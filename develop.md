# QGroundControl 개발 가이드 및 기능 명세서

> 이 문서는 QGroundControl(QGC)과 같은 대규모 드론 지상제어 소프트웨어를 개발하기 위한 일반적인 개발 절차 가이드와, 실제 QGC 프로젝트 구조를 기반으로 추론한 가상의 개발 계획서, 그리고 구현된 기능들의 매핑을 포함합니다.

---

## 목차

0. [시스템 전체 구조도](#시스템-전체-구조도)
1. [Part 1: 대규모 GCS 소프트웨어 개발 가이드](#part-1-대규모-gcs-소프트웨어-개발-가이드)
2. [Part 2: QGroundControl 가상 개발 계획서](#part-2-qgroundcontrol-가상-개발-계획서)
3. [Part 3: 실제 구현 기능 매핑](#part-3-실제-구현-기능-매핑)

---

# 시스템 전체 구조도

## 0.1 QGroundControl 전체 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    QGroundControl System Architecture                                    │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐   │
│  │                                    USER INTERFACE LAYER (QML)                                    │   │
│  ├─────────────────────────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                                                 │   │
│  │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐   │   │
│  │   │   FlyView   │  │  PlanView   │  │  SetupView  │  │ AnalyzeView │  │   Settings View     │   │   │
│  │   ├─────────────┤  ├─────────────┤  ├─────────────┤  ├─────────────┤  ├─────────────────────┤   │   │
│  │   │ • Map       │  │ • Mission   │  │ • Firmware  │  │ • Log       │  │ • General           │   │   │
│  │   │ • Video     │  │   Editor    │  │ • Airframe  │  │   Download  │  │ • Comm Links        │   │   │
│  │   │ • HUD       │  │ • GeoFence  │  │ • Sensors   │  │ • GeoTag    │  │ • Offline Maps      │   │   │
│  │   │ • Telemetry │  │ • Rally     │  │ • Radio     │  │ • MAVLink   │  │ • Video             │   │   │
│  │   │ • Actions   │  │   Points    │  │ • FlightMode│  │   Inspector │  │ • Console           │   │   │
│  │   └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────┘   │   │
│  │                                                                                                 │   │
│  └─────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│                                              │                                                          │
│                                              ▼                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐   │
│  │                                 CONTROLLER LAYER (C++/QML Bridge)                               │   │
│  ├─────────────────────────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                                                 │   │
│  │  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────────┐    │   │
│  │  │ FlyViewController │  │MissionController │  │ SetupController  │  │ AnalyzeController    │    │   │
│  │  └──────────────────┘  └──────────────────┘  └──────────────────┘  └──────────────────────┘    │   │
│  │            │                    │                     │                      │                 │   │
│  │            └────────────────────┴─────────────────────┴──────────────────────┘                 │   │
│  │                                              │                                                  │   │
│  │                                              ▼                                                  │   │
│  │                              ┌─────────────────────────────┐                                   │   │
│  │                              │      QGCCorePlugin          │                                   │   │
│  │                              │  (Custom Build Extension)   │                                   │   │
│  │                              └─────────────────────────────┘                                   │   │
│  │                                                                                                 │   │
│  └─────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│                                              │                                                          │
│                                              ▼                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐   │
│  │                                    BUSINESS LOGIC LAYER (C++)                                   │   │
│  ├─────────────────────────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                                                 │   │
│  │  ┌─────────────────────────────────────────────────────────────────────────────────────────┐   │   │
│  │  │                                    QGCToolbox                                            │   │   │
│  │  │                            (Singleton Service Container)                                │   │   │
│  │  └───────────────────────────────────────┬─────────────────────────────────────────────────┘   │   │
│  │                                          │                                                      │   │
│  │    ┌─────────────────────────────────────┼─────────────────────────────────────┐               │   │
│  │    │                                     │                                     │               │   │
│  │    ▼                                     ▼                                     ▼               │   │
│  │  ┌──────────────────┐    ┌───────────────────────────┐    ┌──────────────────────────┐        │   │
│  │  │  SettingsManager │    │   MultiVehicleManager     │    │     MissionCommandTree   │        │   │
│  │  └──────────────────┘    └─────────────┬─────────────┘    └──────────────────────────┘        │   │
│  │                                        │                                                       │   │
│  │    ┌──────────────────┐                ▼                    ┌──────────────────────┐          │   │
│  │    │   VideoManager   │    ┌───────────────────────┐        │  QGCPositionManager  │          │   │
│  │    └──────────────────┘    │       Vehicle         │        └──────────────────────┘          │   │
│  │                            │  ┌─────────────────┐  │                                          │   │
│  │    ┌──────────────────┐    │  │  FactGroups     │  │        ┌──────────────────────┐          │   │
│  │    │  JoystickManager │    │  │  • GPS          │  │        │  ADSBVehicleManager  │          │   │
│  │    └──────────────────┘    │  │  • Battery      │  │        └──────────────────────┘          │   │
│  │                            │  │  • Attitude     │  │                                          │   │
│  │    ┌──────────────────┐    │  │  • Wind         │  │        ┌──────────────────────┐          │   │
│  │    │   GimbalManager  │    │  │  • Vibration    │  │        │   TerrainProvider    │          │   │
│  │    └──────────────────┘    │  └─────────────────┘  │        └──────────────────────┘          │   │
│  │                            │  ┌─────────────────┐  │                                          │   │
│  │                            │  │ParameterManager │  │                                          │   │
│  │                            │  └─────────────────┘  │                                          │   │
│  │                            │  ┌─────────────────┐  │                                          │   │
│  │                            │  │ MissionManager  │  │                                          │   │
│  │                            │  └─────────────────┘  │                                          │   │
│  │                            └───────────────────────┘                                          │   │
│  │                                                                                                 │   │
│  └─────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│                                              │                                                          │
│                                              ▼                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐   │
│  │                                      PLUGIN LAYER (C++)                                         │   │
│  ├─────────────────────────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                                                 │   │
│  │   ┌───────────────────────────────────────────────────────────────────────────────────────┐    │   │
│  │   │                              FirmwarePluginManager                                     │    │   │
│  │   └───────────────────────────────────────┬───────────────────────────────────────────────┘    │   │
│  │                                           │                                                     │   │
│  │              ┌────────────────────────────┼────────────────────────────┐                       │   │
│  │              │                            │                            │                       │   │
│  │              ▼                            ▼                            ▼                       │   │
│  │   ┌──────────────────────┐   ┌──────────────────────┐   ┌──────────────────────┐              │   │
│  │   │   PX4FirmwarePlugin  │   │  APMFirmwarePlugin   │   │  GenericFirmwarePlugin│              │   │
│  │   ├──────────────────────┤   ├──────────────────────┤   ├──────────────────────┤              │   │
│  │   │ • Flight Modes       │   │ • ArduCopter         │   │ • Basic MAVLink      │              │   │
│  │   │ • Parameters         │   │ • ArduPlane          │   │   Support            │              │   │
│  │   │ • Commands           │   │ • ArduRover          │   │                      │              │   │
│  │   └──────────────────────┘   │ • ArduSub            │   └──────────────────────┘              │   │
│  │              │               └──────────────────────┘              │                          │   │
│  │              │                            │                        │                          │   │
│  │              └────────────────────────────┼────────────────────────┘                          │   │
│  │                                           │                                                    │   │
│  │   ┌───────────────────────────────────────┴───────────────────────────────────────────────┐   │   │
│  │   │                              AutoPilotPluginManager                                    │   │   │
│  │   └───────────────────────────────────────┬───────────────────────────────────────────────┘   │   │
│  │                                           │                                                    │   │
│  │              ┌────────────────────────────┼────────────────────────────┐                      │   │
│  │              ▼                            ▼                            ▼                      │   │
│  │   ┌──────────────────────┐   ┌──────────────────────┐   ┌──────────────────────┐             │   │
│  │   │  PX4AutoPilotPlugin  │   │  APMAutoPilotPlugin  │   │     VehicleComponents │             │   │
│  │   ├──────────────────────┤   ├──────────────────────┤   ├──────────────────────┤             │   │
│  │   │ • AirframeComponent  │   │ • APMAirframeComp    │   │ • SensorsComponent   │             │   │
│  │   │ • SensorsComponent   │   │ • APMSensorsComp     │   │ • RadioComponent     │             │   │
│  │   │ • SafetyComponent    │   │ • APMSafetyComp      │   │ • PowerComponent     │             │   │
│  │   │ • ActuatorComponent  │   │ • APMTuningComp      │   │ • MotorComponent     │             │   │
│  │   └──────────────────────┘   └──────────────────────┘   └──────────────────────┘             │   │
│  │                                                                                                │   │
│  └─────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│                                              │                                                          │
│                                              ▼                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐   │
│  │                                  DATA & FACT SYSTEM LAYER (C++)                                 │   │
│  ├─────────────────────────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                                                 │   │
│  │   ┌─────────────────────────────────────────────────────────────────────────────────────────┐  │   │
│  │   │                                    Fact System                                           │  │   │
│  │   ├─────────────────────────────────────────────────────────────────────────────────────────┤  │   │
│  │   │                                                                                         │  │   │
│  │   │  ┌─────────────────┐      ┌──────────────────┐      ┌──────────────────────────────┐   │  │   │
│  │   │  │      Fact       │ ───▶ │   FactMetaData   │ ───▶ │      FactGroup               │   │  │   │
│  │   │  ├─────────────────┤      ├──────────────────┤      ├──────────────────────────────┤   │  │   │
│  │   │  │ • rawValue      │      │ • name           │      │ • Collection of Facts        │   │  │   │
│  │   │  │ • cookedValue   │      │ • type           │      │ • Hierarchical organization  │   │  │   │
│  │   │  │ • enumStrings   │      │ • min/max        │      │                              │   │  │   │
│  │   │  │ • valueChanged  │      │ • units          │      │  VehicleGPSFactGroup         │   │  │   │
│  │   │  │   signal        │      │ • decimalPlaces  │      │  VehicleBatteryFactGroup     │   │  │   │
│  │   │  └─────────────────┘      └──────────────────┘      │  VehicleWindFactGroup        │   │  │   │
│  │   │           │                                         │  VehicleVibrationFactGroup   │   │  │   │
│  │   │           │                                         └──────────────────────────────┘   │  │   │
│  │   │           ▼                                                                            │  │   │
│  │   │  ┌─────────────────────────────────────────────────────────────────────────────────┐  │  │   │
│  │   │  │                              QML FactControls                                    │  │  │   │
│  │   │  │  FactTextField | FactComboBox | FactSlider | FactCheckBox | FactBitMask        │  │  │   │
│  │   │  └─────────────────────────────────────────────────────────────────────────────────┘  │  │   │
│  │   └─────────────────────────────────────────────────────────────────────────────────────────┘  │   │
│  │                                                                                                 │   │
│  └─────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│                                              │                                                          │
│                                              ▼                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐   │
│  │                                   COMMUNICATION LAYER (C++)                                     │   │
│  ├─────────────────────────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                                                 │   │
│  │   ┌─────────────────────────────────────────────────────────────────────────────────────────┐  │   │
│  │   │                                   LinkManager                                            │  │   │
│  │   │                         (Connection Lifecycle Management)                               │  │   │
│  │   └───────────────────────────────────────┬─────────────────────────────────────────────────┘  │   │
│  │                                           │                                                     │   │
│  │   ┌───────────────────────────────────────┼─────────────────────────────────────────────────┐  │   │
│  │   │                              LinkInterface (Abstract)                                    │  │   │
│  │   └───────────────────────────────────────┬─────────────────────────────────────────────────┘  │   │
│  │                                           │                                                     │   │
│  │       ┌───────────────┬───────────────┬───┴───┬───────────────┬───────────────┐                │   │
│  │       ▼               ▼               ▼       ▼               ▼               ▼                │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐           │   │
│  │  │SerialLink│  │ UDPLink  │  │ TCPLink  │  │Bluetooth │  │ WebRTC   │  │ MockLink │           │   │
│  │  │          │  │          │  │          │  │  Link    │  │  Link    │  │(Testing) │           │   │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘  └──────────┘  └──────────┘           │   │
│  │       │               │               │           │           │               │                │   │
│  │       └───────────────┴───────────────┴───────────┴───────────┴───────────────┘                │   │
│  │                                           │                                                     │   │
│  │                                           ▼                                                     │   │
│  │   ┌─────────────────────────────────────────────────────────────────────────────────────────┐  │   │
│  │   │                               MAVLinkProtocol                                            │  │   │
│  │   ├─────────────────────────────────────────────────────────────────────────────────────────┤  │   │
│  │   │  • Message Parsing/Serialization  • Protocol Version Management  • Message Signing     │  │   │
│  │   │  • Heartbeat Handling            • System ID Management         • MAVLink FTP          │  │   │
│  │   └─────────────────────────────────────────────────────────────────────────────────────────┘  │   │
│  │                                                                                                 │   │
│  └─────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│                                              │                                                          │
│                                              ▼                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────────────────────────────┐   │
│  │                                 PLATFORM ABSTRACTION LAYER                                      │   │
│  ├─────────────────────────────────────────────────────────────────────────────────────────────────┤   │
│  │                                                                                                 │   │
│  │   ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐                 │   │
│  │   │ Windows  │    │  macOS   │    │  Linux   │    │ Android  │    │   iOS    │                 │   │
│  │   │ (MSVC)   │    │ (Clang)  │    │ (GCC)    │    │ (NDK)    │    │ (Xcode)  │                 │   │
│  │   └──────────┘    └──────────┘    └──────────┘    └──────────┘    └──────────┘                 │   │
│  │                                                                                                 │   │
│  │                        Qt 6.x Framework (Cross-Platform Abstraction)                           │   │
│  │                                                                                                 │   │
│  └─────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────┘
                                              │
                                              ▼
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                        EXTERNAL SYSTEMS                                                 │
├─────────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                         │
│   ┌────────────────────┐    ┌────────────────────┐    ┌────────────────────┐    ┌──────────────────┐   │
│   │   UAV / Drone      │    │   Video Stream     │    │   Map Tile Server  │    │  Terrain Server  │   │
│   │  (PX4/ArduPilot)   │    │   (RTSP/UDP)       │    │  (Bing/OSM/Google) │    │  (Airmap)        │   │
│   └────────────────────┘    └────────────────────┘    └────────────────────┘    └──────────────────┘   │
│                                                                                                         │
│   ┌────────────────────┐    ┌────────────────────┐    ┌────────────────────┐    ┌──────────────────┐   │
│   │   ADSB Receiver    │    │   RTK Base Station │    │   SITL Simulator   │    │  UTM Provider    │   │
│   └────────────────────┘    └────────────────────┘    └────────────────────┘    └──────────────────┘   │
│                                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

## 0.2 데이터 흐름도 (Data Flow Diagram)

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    QGC Data Flow Overview                                            │
└─────────────────────────────────────────────────────────────────────────────────────────────────────┘

                    ┌──────────────────────────────────────────────────────────────┐
                    │                         USER                                  │
                    └──────────────────────────────────────────────────────────────┘
                                    │                           ▲
                          Input     │                           │  Display
                    (Touch/Mouse/   │                           │  (Map, Video,
                     Joystick)      ▼                           │   Telemetry)
                    ┌──────────────────────────────────────────────────────────────┐
                    │                    QML UI Components                          │
                    │   ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────┐    │
                    │   │ FlyView  │ │ PlanView │ │SetupView │ │ AnalyzeView  │    │
                    │   └────┬─────┘ └────┬─────┘ └────┬─────┘ └──────┬───────┘    │
                    └────────┼────────────┼────────────┼───────────────┼───────────┘
                             │            │            │               │
                             ▼            ▼            ▼               ▼
┌────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                     C++ BACKEND PROCESSING                                          │
├────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                    │
│  ┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐     ┌─────────────────────┐  │
│  │  Guided Actions │     │ Mission Editor  │     │  Calibration    │     │  Log Analysis       │  │
│  │  (Takeoff, RTL) │     │ (Waypoints)     │     │  (Sensors, RC)  │     │  (Download, Parse)  │  │
│  └────────┬────────┘     └────────┬────────┘     └────────┬────────┘     └──────────┬──────────┘  │
│           │                       │                       │                         │             │
│           └───────────────────────┴───────────────────────┴─────────────────────────┘             │
│                                              │                                                     │
│                                              ▼                                                     │
│                              ┌───────────────────────────────┐                                    │
│                              │         Vehicle Class         │                                    │
│                              │   (Central Vehicle State)     │                                    │
│                              └───────────────┬───────────────┘                                    │
│                                              │                                                     │
│          ┌───────────────────────────────────┼───────────────────────────────────┐               │
│          │                                   │                                   │               │
│          ▼                                   ▼                                   ▼               │
│  ┌───────────────────┐           ┌───────────────────┐           ┌───────────────────┐          │
│  │  ParameterManager │           │   MissionManager  │           │    FactGroups     │          │
│  │  (Vehicle Params) │           │  (Mission Upload/ │           │  (Telemetry Data) │          │
│  │                   │           │   Download)       │           │                   │          │
│  └─────────┬─────────┘           └─────────┬─────────┘           └─────────┬─────────┘          │
│            │                               │                               │                     │
│            └───────────────────────────────┴───────────────────────────────┘                     │
│                                              │                                                    │
│                                              ▼                                                    │
│                              ┌───────────────────────────────┐                                   │
│                              │       FirmwarePlugin          │                                   │
│                              │  (Protocol Adaptation Layer)  │                                   │
│                              └───────────────┬───────────────┘                                   │
│                                              │                                                    │
└──────────────────────────────────────────────┼────────────────────────────────────────────────────┘
                                               │
                                               ▼
┌──────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                       MAVLINK PROTOCOL                                               │
├──────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                      │
│   ┌─────────────────┐              ┌─────────────────┐              ┌─────────────────┐             │
│   │  COMMAND_LONG   │              │    HEARTBEAT    │              │  PARAM_VALUE    │             │
│   │  (Vehicle Cmds) │              │  (Status Check) │              │  (Parameters)   │             │
│   └─────────────────┘              └─────────────────┘              └─────────────────┘             │
│                                                                                                      │
│   ┌─────────────────┐              ┌─────────────────┐              ┌─────────────────┐             │
│   │  MISSION_ITEM   │              │  ATTITUDE       │              │  GPS_RAW_INT    │             │
│   │  (Mission Data) │              │  (Orientation)  │              │  (Position)     │             │
│   └─────────────────┘              └─────────────────┘              └─────────────────┘             │
│                                                                                                      │
└──────────────────────────────────────────────────────────────────────────────────────────────────────┘
                                               │
                                               ▼
┌──────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                     PHYSICAL TRANSPORT                                               │
├──────────────────────────────────────────────────────────────────────────────────────────────────────┤
│                                                                                                      │
│    ┌────────────┐    ┌────────────┐    ┌────────────┐    ┌────────────┐    ┌────────────────┐       │
│    │   Serial   │    │    UDP     │    │    TCP     │    │ Bluetooth  │    │     WebRTC     │       │
│    │  (USB/UART)│    │ (WiFi/Eth) │    │ (Network)  │    │   (BLE)    │    │  (Internet)    │       │
│    └─────┬──────┘    └─────┬──────┘    └─────┬──────┘    └─────┬──────┘    └───────┬────────┘       │
│          │                 │                 │                 │                   │                │
│          └─────────────────┴─────────────────┴─────────────────┴───────────────────┘                │
│                                              │                                                       │
└──────────────────────────────────────────────┼───────────────────────────────────────────────────────┘
                                               │
                                               ▼
                              ┌────────────────────────────────┐
                              │      DRONE / UAV / Simulator   │
                              │      (PX4 / ArduPilot / SITL)  │
                              └────────────────────────────────┘
```

## 0.3 비행체 연결 시퀀스 다이어그램

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                              Vehicle Auto-Connect Sequence                                           │
└─────────────────────────────────────────────────────────────────────────────────────────────────────┘

    ┌─────────┐       ┌─────────────┐      ┌────────────────┐     ┌───────────────────┐     ┌─────────┐
    │  Drone  │       │ LinkManager │      │ MAVLinkProtocol│     │MultiVehicleManager│     │   UI    │
    └────┬────┘       └──────┬──────┘      └───────┬────────┘     └─────────┬─────────┘     └────┬────┘
         │                   │                     │                        │                    │
         │   [1] UDP Heartbeat Broadcast           │                        │                    │
         │──────────────────▶│                     │                        │                    │
         │                   │                     │                        │                    │
         │                   │  [2] Detect New Device                       │                    │
         │                   │  Create Link        │                        │                    │
         │                   │─────────────────────│                        │                    │
         │                   │                     │                        │                    │
         │   [3] Raw Bytes   │                     │                        │                    │
         │◀─────────────────▶│                     │                        │                    │
         │                   │                     │                        │                    │
         │                   │  [4] Forward Bytes  │                        │                    │
         │                   │────────────────────▶│                        │                    │
         │                   │                     │                        │                    │
         │                   │                     │  [5] Parse MAVLink     │                    │
         │                   │                     │  Detect HEARTBEAT      │                    │
         │                   │                     │────────────────────────│                    │
         │                   │                     │                        │                    │
         │                   │                     │  [6] Notify New Vehicle│                    │
         │                   │                     │───────────────────────▶│                    │
         │                   │                     │                        │                    │
         │                   │                     │                        │  [7] Create Vehicle│
         │                   │                     │                        │  Object            │
         │                   │                     │                        │────────────────────│
         │                   │                     │                        │                    │
         │                   │                     │                        │  [8] Instantiate   │
         │                   │                     │                        │  FirmwarePlugin    │
         │                   │                     │                        │────────────────────│
         │                   │                     │                        │                    │
         │   [9] PARAM_REQUEST_LIST                │                        │                    │
         │◀────────────────────────────────────────────────────────────────│                    │
         │                   │                     │                        │                    │
         │   [10] PARAM_VALUE (all parameters)     │                        │                    │
         │─────────────────────────────────────────────────────────────────▶│                    │
         │                   │                     │                        │                    │
         │   [11] MISSION_REQUEST_LIST             │                        │                    │
         │◀────────────────────────────────────────────────────────────────│                    │
         │                   │                     │                        │                    │
         │   [12] MISSION_ITEM (all items)         │                        │                    │
         │─────────────────────────────────────────────────────────────────▶│                    │
         │                   │                     │                        │                    │
         │                   │                     │                        │  [13] Vehicle Ready│
         │                   │                     │                        │───────────────────▶│
         │                   │                     │                        │                    │
         │                   │                     │                        │                    │ [14] Update
         │                   │                     │                        │                    │ FlyView/Setup
         │                   │                     │                        │                    │─────────────
         │                   │                     │                        │                    │
    ┌────┴────┐       ┌──────┴──────┐      ┌───────┴────────┐     ┌─────────┴─────────┐     ┌────┴────┐
    │  Drone  │       │ LinkManager │      │ MAVLinkProtocol│     │MultiVehicleManager│     │   UI    │
    └─────────┘       └─────────────┘      └────────────────┘     └───────────────────┘     └─────────┘
```

## 0.4 모듈 의존성 다이어그램

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    Module Dependency Graph                                           │
└─────────────────────────────────────────────────────────────────────────────────────────────────────┘

                                    ┌─────────────────────┐
                                    │   QGCApplication    │
                                    │     (Entry Point)   │
                                    └──────────┬──────────┘
                                               │
                                               ▼
                                    ┌─────────────────────┐
                                    │     QGCToolbox      │
                                    │ (Service Container) │
                                    └──────────┬──────────┘
                                               │
                 ┌─────────────┬───────────────┼───────────────┬─────────────┐
                 │             │               │               │             │
                 ▼             ▼               ▼               ▼             ▼
        ┌─────────────┐ ┌───────────┐ ┌─────────────┐ ┌───────────┐ ┌─────────────┐
        │   Settings  │ │   Link    │ │  Vehicle    │ │  Video    │ │  Position   │
        │   Manager   │ │  Manager  │ │  Manager    │ │  Manager  │ │  Manager    │
        └──────┬──────┘ └─────┬─────┘ └──────┬──────┘ └─────┬─────┘ └──────┬──────┘
               │              │              │              │              │
               │              │              │              │              │
               ▼              ▼              │              ▼              ▼
        ┌─────────────┐ ┌───────────┐       │       ┌───────────┐ ┌─────────────┐
        │   Fact      │ │  MAVLink  │       │       │  Video    │ │    GPS      │
        │   System    │ │  Protocol │       │       │  Receiver │ │   Module    │
        └──────┬──────┘ └─────┬─────┘       │       └───────────┘ └─────────────┘
               │              │              │
               │              │              │
               │              ▼              ▼
               │       ┌───────────────────────────┐
               │       │        Vehicle            │
               │       │  ┌─────────────────────┐  │
               │       │  │   FirmwarePlugin    │  │
               │       │  │   (PX4/APM/Generic) │  │
               │       │  └─────────────────────┘  │
               │       │  ┌─────────────────────┐  │
               │       │  │  AutoPilotPlugin    │  │
               │       │  │  (Setup Components) │  │
               │       │  └─────────────────────┘  │
               │       │  ┌─────────────────────┐  │
               └──────▶│  │   ParameterManager  │  │
                       │  │   (Facts for Params)│  │
                       │  └─────────────────────┘  │
                       │  ┌─────────────────────┐  │
                       │  │   MissionManager    │  │
                       │  └─────────────────────┘  │
                       │  ┌─────────────────────┐  │
                       │  │     FactGroups      │  │
                       │  │  (Telemetry Data)   │  │
                       │  └─────────────────────┘  │
                       └───────────────────────────┘
                                    │
                                    │
          ┌─────────────────────────┼─────────────────────────┐
          │                         │                         │
          ▼                         ▼                         ▼
   ┌─────────────┐          ┌─────────────┐          ┌─────────────┐
   │  FlyView    │          │  PlanView   │          │  SetupView  │
   │   (QML)     │          │   (QML)     │          │   (QML)     │
   └─────────────┘          └─────────────┘          └─────────────┘


=== Legend ===

    ┌───────────┐
    │  Module   │ ────▶  Depends On
    └───────────┘


=== Key Dependencies ===

┌───────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                       │
│   Vehicle ────────▶ FirmwarePlugin ────────▶ MAVLink Protocol                         │
│      │                                                                                │
│      ├────────────▶ ParameterManager ──────▶ FactSystem                              │
│      │                                                                                │
│      ├────────────▶ MissionManager ────────▶ MAVLink Protocol                        │
│      │                                                                                │
│      └────────────▶ FactGroups ────────────▶ FactSystem                              │
│                                                                                       │
│   LinkManager ────▶ LinkInterface (Serial/UDP/TCP/Bluetooth/WebRTC)                  │
│                                                                                       │
│   SettingsManager ▶ FactSystem (Settings as Facts)                                   │
│                                                                                       │
└───────────────────────────────────────────────────────────────────────────────────────┘
```

## 0.5 UI 화면 구조도

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    QGC User Interface Structure                                      │
└─────────────────────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│  ┌───────────────────────────────────────────────────────────────────────────────────────────────┐  │
│  │                                        TOOLBAR                                                 │  │
│  │  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐              ┌─────────────────────┐  │  │
│  │  │  Fly   │ │  Plan  │ │ Setup  │ │Analyze │ │Settings│              │  Vehicle Indicators │  │  │
│  │  │  View  │ │  View  │ │  View  │ │  View  │ │  View  │              │  (GPS, Battery, RC) │  │  │
│  │  └────────┘ └────────┘ └────────┘ └────────┘ └────────┘              └─────────────────────┘  │  │
│  └───────────────────────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                                     │
│  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐  │
│                                          MAIN CONTENT AREA                                          │
│  │                                                                                               │  │
│    ╔═══════════════════════════════════════════════════════════════════════════════════════════╗    │
│  │ ║                                      FLY VIEW                                             ║ │  │
│    ║  ┌─────────────────────────────────────────────────────────────────┐ ┌─────────────────┐  ║    │
│  │ ║  │                                                                 │ │   RIGHT PANEL   │  ║ │  │
│    ║  │                           FLIGHT MAP                            │ │                 │  ║    │
│  │ ║  │                                                                 │ │ ┌─────────────┐ │  ║ │  │
│    ║  │     ┌───────────────────────────────────────────────────┐      │ │ │ Telemetry   │ │  ║    │
│  │ ║  │     │                    Video PIP                       │      │ │ │ • Altitude  │ │  ║ │  │
│    ║  │     │              (Picture in Picture)                  │      │ │ │ • Speed     │ │  ║    │
│  │ ║  │     └───────────────────────────────────────────────────┘      │ │ │ • Distance  │ │  ║ │  │
│    ║  │                                                                 │ │ │ • Flight    │ │  ║    │
│  │ ║  │        [Drone Icon]  ────────── [Mission Path]                 │ │ │   Time      │ │  ║ │  │
│    ║  │                                                                 │ │ └─────────────┘ │  ║    │
│  │ ║  │   ┌──────────┐                                                 │ │                 │  ║ │  │
│    ║  │   │ Compass  │                              [Home Icon]        │ │ ┌─────────────┐ │  ║    │
│  │ ║  │   └──────────┘                                                 │ │ │  Actions    │ │  ║ │  │
│    ║  │                                                                 │ │ │ • Takeoff   │ │  ║    │
│  │ ║  │   ┌──────────┐                                                 │ │ │ • Land      │ │  ║ │  │
│    ║  │   │ Altitude │                                                 │ │ │ • RTL       │ │  ║    │
│  │ ║  │   │ Indicator│                                                 │ │ │ • Pause     │ │  ║ │  │
│    ║  │   └──────────┘                                                 │ │ │ • Change Alt│ │  ║    │
│  │ ║  │                                                                 │ │ └─────────────┘ │  ║ │  │
│    ║  │   ┌────────────────────────────────────────────────────────┐   │ │                 │  ║    │
│  │ ║  │   │                      HUD Overlay                        │   │ │ ┌─────────────┐ │  ║ │  │
│    ║  │   │  Pitch ─── Roll ─── Heading ─── Ground Speed           │   │ │ │Multi-Vehicle│ │  ║    │
│  │ ║  │   └────────────────────────────────────────────────────────┘   │ │ │   List      │ │  ║ │  │
│    ║  └─────────────────────────────────────────────────────────────────┘ │ └─────────────┘ │  ║    │
│  │ ║                                                                      └─────────────────┘  ║ │  │
│    ╚═══════════════════════════════════════════════════════════════════════════════════════════╝    │
│  │                                                                                               │  │
│    ╔═══════════════════════════════════════════════════════════════════════════════════════════╗    │
│  │ ║                                      PLAN VIEW                                            ║ │  │
│    ║  ┌─────────────────────────────────────────────────────────────────┐ ┌─────────────────┐  ║    │
│  │ ║  │                                                                 │ │  MISSION EDITOR │  ║ │  │
│    ║  │                         PLANNING MAP                            │ │                 │  ║    │
│  │ ║  │                                                                 │ │ ┌─────────────┐ │  ║ │  │
│    ║  │    [1]───────[2]───────[3]───────[4]                           │ │ │ Waypoint 1  │ │  ║    │
│  │ ║  │     │         │         │         │                            │ │ │ Lat: xx.xxx │ │  ║ │  │
│    ║  │     └─────────┴─────────┴─────────┘                            │ │ │ Lon: xx.xxx │ │  ║    │
│  │ ║  │           (Waypoint Path)                                      │ │ │ Alt: 50m    │ │  ║ │  │
│    ║  │                                                                 │ │ └─────────────┘ │  ║    │
│  │ ║  │    ┌─────────────────────────────┐                             │ │ ┌─────────────┐ │  ║ │  │
│    ║  │    │      Survey Area            │                             │ │ │ Add Item    │ │  ║    │
│  │ ║  │    │    (Grid Pattern)           │                             │ │ │ • Waypoint  │ │  ║ │  │
│    ║  │    └─────────────────────────────┘                             │ │ │ • Survey    │ │  ║    │
│  │ ║  │                                                                 │ │ │ • Corridor  │ │  ║ │  │
│    ║  │    ┌───────────────────┐                                       │ │ │ • Structure │ │  ║    │
│  │ ║  │    │ GeoFence (Circle) │                                       │ │ │ • Landing   │ │  ║ │  │
│    ║  │    └───────────────────┘                                       │ │ └─────────────┘ │  ║    │
│  │ ║  │                                                                 │ │                 │  ║ │  │
│    ║  └─────────────────────────────────────────────────────────────────┘ └─────────────────┘  ║    │
│  │ ╚═══════════════════════════════════════════════════════════════════════════════════════════╝ │  │
│                                                                                                     │
│  │ ╔═══════════════════════════════════════════════════════════════════════════════════════════╗ │  │
│    ║                                      SETUP VIEW                                           ║    │
│  │ ║  ┌─────────────────┐  ┌───────────────────────────────────────────────────────────────┐  ║ │  │
│    ║  │   COMPONENTS    │  │                    COMPONENT DETAILS                          │  ║    │
│  │ ║  │                 │  │                                                               │  ║ │  │
│    ║  │ ┌─────────────┐ │  │  ╔═══════════════════════════════════════════════════════╗   │  ║    │
│  │ ║  │ │  Summary    │ │  │  ║              SENSORS CALIBRATION                      ║   │  ║ │  │
│    ║  │ └─────────────┘ │  │  ║                                                       ║   │  ║    │
│  │ ║  │ ┌─────────────┐ │  │  ║   ┌──────────┐ ┌──────────┐ ┌──────────┐            ║   │  ║ │  │
│    ║  │ │  Firmware   │ │  │  ║   │ Compass  │ │  Gyro    │ │  Accel   │            ║   │  ║    │
│  │ ║  │ └─────────────┘ │  │  ║   │  [Cal]   │ │  [Cal]   │ │  [Cal]   │            ║   │  ║ │  │
│    ║  │ ┌─────────────┐ │  │  ║   └──────────┘ └──────────┘ └──────────┘            ║   │  ║    │
│  │ ║  │ │  Airframe   │ │  │  ║                                                       ║   │  ║ │  │
│    ║  │ └─────────────┘ │  │  ║   ┌──────────────────────────────────────────────┐   ║   │  ║    │
│  │ ║  │ ┌─────────────┐ │  │  ║   │          Calibration Animation              │   ║   │  ║ │  │
│    ║  │ │  Sensors    │◀┼──┼──║   │       (Rotate vehicle instructions)         │   ║   │  ║    │
│  │ ║  │ └─────────────┘ │  │  ║   └──────────────────────────────────────────────┘   ║   │  ║ │  │
│    ║  │ ┌─────────────┐ │  │  ╚═══════════════════════════════════════════════════════╝   │  ║    │
│  │ ║  │ │   Radio     │ │  │                                                               │  ║ │  │
│    ║  │ └─────────────┘ │  └───────────────────────────────────────────────────────────────┘  ║    │
│  │ ║  │ ┌─────────────┐ │                                                                     ║ │  │
│    ║  │ │Flight Modes │ │                                                                     ║    │
│  │ ║  │ └─────────────┘ │                                                                     ║ │  │
│    ║  │ ┌─────────────┐ │                                                                     ║    │
│  │ ║  │ │   Power     │ │                                                                     ║ │  │
│    ║  │ └─────────────┘ │                                                                     ║    │
│  │ ║  │ ┌─────────────┐ │                                                                     ║ │  │
│    ║  │ │   Safety    │ │                                                                     ║    │
│  │ ║  │ └─────────────┘ │                                                                     ║ │  │
│    ║  └─────────────────┘                                                                     ║    │
│  │ ╚═══════════════════════════════════════════════════════════════════════════════════════════╝ │  │
│   ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─   │
│                                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

## 0.6 빌드 및 배포 파이프라인

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    Build & Deployment Pipeline                                       │
└─────────────────────────────────────────────────────────────────────────────────────────────────────┘

    ┌─────────────────┐
    │   Source Code   │
    │    (GitHub)     │
    └────────┬────────┘
             │
             ▼
    ┌─────────────────┐
    │   CMake Build   │
    │    System       │
    └────────┬────────┘
             │
             ├───────────────────────────────────────────────────────────────────────┐
             │                                                                       │
             ▼                                                                       ▼
    ┌─────────────────────────────────────────────────┐         ┌─────────────────────────────────┐
    │              Desktop Builds                      │         │         Mobile Builds           │
    ├─────────────────────────────────────────────────┤         ├─────────────────────────────────┤
    │                                                 │         │                                 │
    │  ┌─────────────┐ ┌─────────────┐ ┌───────────┐  │         │  ┌─────────────┐ ┌───────────┐  │
    │  │  Windows    │ │   macOS     │ │   Linux   │  │         │  │  Android    │ │    iOS    │  │
    │  │   (MSVC)    │ │  (Clang)    │ │   (GCC)   │  │         │  │   (NDK)     │ │  (Xcode)  │  │
    │  └──────┬──────┘ └──────┬──────┘ └─────┬─────┘  │         │  └──────┬──────┘ └─────┬─────┘  │
    │         │               │              │        │         │         │              │        │
    │         ▼               ▼              ▼        │         │         ▼              ▼        │
    │  ┌─────────────┐ ┌─────────────┐ ┌───────────┐  │         │  ┌─────────────┐ ┌───────────┐  │
    │  │   .exe      │ │    .app     │ │ AppImage  │  │         │  │    .apk     │ │   .ipa    │  │
    │  │ Installer   │ │    .dmg     │ │           │  │         │  │             │ │           │  │
    │  └─────────────┘ └─────────────┘ └───────────┘  │         │  └─────────────┘ └───────────┘  │
    │                                                 │         │                                 │
    └─────────────────────────────────────────────────┘         └─────────────────────────────────┘
             │                                                               │
             └───────────────────────────┬───────────────────────────────────┘
                                         │
                                         ▼
                              ┌─────────────────────┐
                              │   GitHub Releases   │
                              │   Distribution      │
                              └─────────────────────┘


=== CMake Configuration Flow ===

┌────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                    │
│   CMakeLists.txt (Root)                                                                            │
│         │                                                                                          │
│         ├──▶ cmake/CustomOptions.cmake  ─────────▶ Default Options                                │
│         │                                                                                          │
│         ├──▶ cmake/Git.cmake  ───────────────────▶ Version from Git Tags                          │
│         │                                                                                          │
│         ├──▶ cmake/Toolchain.cmake  ─────────────▶ Compiler Settings                              │
│         │                                                                                          │
│         ├──▶ cmake/platform/*.cmake  ────────────▶ Platform-Specific Config                       │
│         │         │                                                                                │
│         │         ├── Windows.cmake                                                                │
│         │         ├── Apple.cmake                                                                  │
│         │         ├── Linux.cmake                                                                  │
│         │         └── Android.cmake                                                                │
│         │                                                                                          │
│         ├──▶ Qt6 find_package  ──────────────────▶ Qt Components                                  │
│         │                                                                                          │
│         ├──▶ src/CMakeLists.txt  ────────────────▶ Source Modules                                 │
│         │         │                                                                                │
│         │         └──▶ src/*/CMakeLists.txt  ────▶ Each Module                                    │
│         │                                                                                          │
│         ├──▶ test/CMakeLists.txt  ───────────────▶ Unit Tests (Optional)                          │
│         │                                                                                          │
│         └──▶ cmake/Install.cmake  ───────────────▶ Installation & Packaging                       │
│                                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

# Part 1: 대규모 GCS 소프트웨어 개발 가이드

## 1.1 프로젝트 기획 단계

### 1.1.1 요구사항 분석

대규모 GCS(Ground Control Station) 소프트웨어 개발 시 다음 요구사항을 분석해야 합니다:

| 분류 | 요구사항 |
|------|----------|
| **기능적 요구사항** | 비행체 연결/제어, 미션 계획, 실시간 모니터링, 설정 관리 |
| **비기능적 요구사항** | 실시간성, 안정성, 크로스 플랫폼, 확장성 |
| **호환성 요구사항** | 프로토콜(MAVLink), 펌웨어(PX4, ArduPilot), 하드웨어 |
| **규제 요구사항** | 항공법, RemoteID, UTM(공역 관리) |

### 1.1.2 이해관계자 식별

```
┌─────────────────────────────────────────────────────────────────┐
│                      이해관계자 맵                               │
├─────────────────────────────────────────────────────────────────┤
│  [최종 사용자]        [개발자]           [규제기관]              │
│  - 드론 조종사        - 코어 개발팀      - 항공당국              │
│  - 미션 계획자        - 플러그인 개발자  - 공역 관리자           │
│  - 엔터프라이즈       - 커스텀 빌드      - 인증 기관             │
│                                                                 │
│  [하드웨어 벤더]      [펌웨어 팀]        [커뮤니티]              │
│  - 드론 제조사        - PX4             - 오픈소스 기여자        │
│  - 센서 제조사        - ArduPilot       - 테스터                │
│  - 통신 장비          - 커스텀 펌웨어    - 문서 작성자           │
└─────────────────────────────────────────────────────────────────┘
```

## 1.2 아키텍처 설계 단계

### 1.2.1 시스템 아키텍처 패턴

대규모 GCS에 적합한 아키텍처 패턴:

```
┌─────────────────────────────────────────────────────────────────┐
│                     레이어드 아키텍처                            │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              Presentation Layer (UI/QML)                │   │
│  │    FlyView | PlanView | SetupView | AnalyzeView        │   │
│  └─────────────────────────────────────────────────────────┘   │
│                           ▼                                    │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              Business Logic Layer (C++)                 │   │
│  │   Vehicle | MissionManager | FactSystem | Settings     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                           ▼                                    │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              Plugin Layer                               │   │
│  │   FirmwarePlugin | AutoPilotPlugin | QGCCorePlugin     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                           ▼                                    │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              Communication Layer                        │   │
│  │   LinkManager | MAVLinkProtocol | SerialLink | UDP     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                           ▼                                    │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              Platform Abstraction Layer                 │   │
│  │   Windows | macOS | Linux | Android | iOS              │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 1.2.2 핵심 설계 원칙

1. **플러그인 기반 확장성**: 펌웨어별 차이를 플러그인으로 격리
2. **프로토콜 추상화**: MAVLink를 통한 표준화된 통신
3. **데이터 바인딩**: Fact System을 통한 UI-데이터 자동 동기화
4. **관심사 분리**: View, Controller, Model의 명확한 분리
5. **크로스 플랫폼**: Qt 프레임워크 기반 멀티 플랫폼 지원

## 1.3 개발 절차

### 1.3.1 개발 프로세스 플로우

```
Phase 1: Foundation (기반 구축)
├── 프로젝트 구조 설정
├── 빌드 시스템 구축 (CMake)
├── 핵심 프레임워크 개발
│   ├── Application Core
│   ├── Plugin Architecture
│   └── Settings System
└── 테스트 프레임워크 구축

        ▼

Phase 2: Communication (통신 계층)
├── MAVLink 프로토콜 통합
├── Link 추상화 계층
│   ├── Serial Link
│   ├── UDP/TCP Link
│   └── Bluetooth Link
├── Vehicle 추상화
└── 파라미터 시스템

        ▼

Phase 3: Core Features (핵심 기능)
├── 비행 뷰 (FlyView)
├── 미션 계획 (PlanView)
├── 비행체 설정 (SetupView)
└── 분석 도구 (AnalyzeView)

        ▼

Phase 4: Advanced Features (고급 기능)
├── 다중 비행체 지원
├── 비디오 스트리밍
├── 지형 데이터 처리
├── 고급 미션 패턴
└── 펌웨어 업데이트

        ▼

Phase 5: Platform & Distribution (배포)
├── 플랫폼별 최적화
├── 국제화 (i18n)
├── 문서화
└── CI/CD 파이프라인
```

### 1.3.2 기능 명세 템플릿

```markdown
## 기능명: [기능 이름]

### 개요
- 목적:
- 범위:
- 우선순위: [Critical/High/Medium/Low]

### 기능 요구사항
1. FR-001: [요구사항 설명]
2. FR-002: [요구사항 설명]

### 비기능 요구사항
1. NFR-001: [성능/보안/안정성 요구사항]

### 의존성
- 선행 기능:
- 외부 라이브러리:

### 인터페이스
- UI 컴포넌트:
- API:
- 이벤트/시그널:

### 테스트 기준
- 단위 테스트:
- 통합 테스트:
- 인수 테스트:
```

## 1.4 품질 보증

### 1.4.1 테스트 전략

| 테스트 레벨 | 도구 | 대상 |
|------------|------|------|
| 단위 테스트 | Google Test | 개별 클래스/함수 |
| 통합 테스트 | MockLink | 모듈 간 상호작용 |
| 시스템 테스트 | SITL | 전체 시스템 |
| UI 테스트 | Qt Test | QML 컴포넌트 |

### 1.4.2 코드 품질 기준

- 정적 분석: clang-tidy, cppcheck
- 코드 커버리지: 최소 80%
- 문서화: Doxygen 주석
- 코드 리뷰: PR 필수 리뷰

---

# Part 2: QGroundControl 가상 개발 계획서

## 2.1 프로젝트 개요

### 프로젝트명: QGroundControl
### 버전: 4.x
### 목표: MAVLink 호환 드론을 위한 크로스 플랫폼 지상 제어 소프트웨어

## 2.2 개발 마일스톤

### Milestone 1: 프로젝트 기반 구축 (Foundation)

```
M1: Foundation
├── M1.1 프로젝트 구조
│   ├── CMake 빌드 시스템 구축
│   ├── Qt6 프로젝트 설정
│   ├── 디렉토리 구조 정의
│   └── 코딩 컨벤션 수립
│
├── M1.2 코어 프레임워크
│   ├── QGCApplication 클래스
│   ├── QGCToolbox (싱글톤 서비스 관리)
│   ├── Settings Manager
│   └── Fact System 기반 구조
│
├── M1.3 플러그인 아키텍처
│   ├── FirmwarePlugin 인터페이스
│   ├── AutoPilotPlugin 인터페이스
│   └── QGCCorePlugin 인터페이스
│
└── M1.4 테스트 인프라
    ├── Google Test 통합
    ├── MockLink 시뮬레이션
    └── CI/CD 파이프라인
```

### Milestone 2: 통신 계층 (Communication)

```
M2: Communication Layer
├── M2.1 MAVLink 통합
│   ├── MAVLinkProtocol 클래스
│   ├── 메시지 파싱/직렬화
│   └── 프로토콜 버전 관리
│
├── M2.2 Link 관리
│   ├── LinkManager
│   ├── LinkInterface 추상화
│   ├── SerialLink (직렬 포트)
│   ├── UDPLink (네트워크)
│   ├── TCPLink
│   └── BluetoothLink
│
├── M2.3 Vehicle 추상화
│   ├── Vehicle 클래스
│   ├── MultiVehicleManager
│   └── 비행체 타입별 처리
│
└── M2.4 파라미터 시스템
    ├── ParameterManager
    ├── Fact/FactMetaData
    └── FactGroup
```

### Milestone 3: 사용자 인터페이스 (User Interface)

```
M3: User Interface
├── M3.1 메인 윈도우
│   ├── MainWindow 레이아웃
│   ├── 툴바/메뉴 구조
│   └── 뷰 전환 시스템
│
├── M3.2 FlyView (비행 뷰)
│   ├── 지도 표시 (MapView)
│   ├── HUD 오버레이
│   ├── 텔레메트리 표시
│   ├── 조이스틱 지원
│   └── Guided Actions
│
├── M3.3 PlanView (미션 계획)
│   ├── 웨이포인트 편집기
│   ├── 미션 아이템 관리
│   ├── GeoFence 편집
│   └── Rally Points
│
├── M3.4 SetupView (설정)
│   ├── 펌웨어 업데이트
│   ├── 에어프레임 선택
│   ├── 센서 캘리브레이션
│   ├── 비행 모드 설정
│   └── 안전 설정
│
└── M3.5 AnalyzeView (분석)
    ├── 로그 다운로드
    ├── MAVLink Inspector
    └── GeoTag 이미지
```

### Milestone 4: 고급 기능 (Advanced Features)

```
M4: Advanced Features
├── M4.1 미션 패턴
│   ├── Survey (영역 조사)
│   ├── Corridor Scan
│   ├── Structure Scan
│   └── Landing Pattern
│
├── M4.2 비디오 시스템
│   ├── VideoManager
│   ├── VideoReceiver
│   └── 다중 비디오 스트림
│
├── M4.3 특수 기능
│   ├── Follow Me 모드
│   ├── Gimbal 제어
│   ├── Camera 제어
│   └── ADSB 수신기
│
├── M4.4 지형 처리
│   ├── Terrain Provider
│   ├── 고도 데이터 조회
│   └── 지형 추종 미션
│
└── M4.5 확장 통신
    ├── WebRTC 지원
    ├── AirLink 통합
    └── RTK GPS 지원
```

### Milestone 5: 펌웨어 플러그인 (Firmware Plugins)

```
M5: Firmware Support
├── M5.1 PX4 플러그인
│   ├── PX4FirmwarePlugin
│   ├── PX4AutoPilotPlugin
│   ├── 파라미터 메타데이터
│   └── 비행 모드 매핑
│
├── M5.2 ArduPilot 플러그인
│   ├── APMFirmwarePlugin
│   ├── APMAutoPilotPlugin
│   ├── 차량 타입별 지원
│   │   ├── Copter
│   │   ├── Plane
│   │   ├── Rover
│   │   └── Sub
│   └── 고급 설정 컴포넌트
│
└── M5.3 Generic 플러그인
    ├── 기본 MAVLink 지원
    └── 범용 파라미터 처리
```

### Milestone 6: 배포 및 국제화 (Distribution)

```
M6: Distribution
├── M6.1 플랫폼 빌드
│   ├── Windows 설치 프로그램
│   ├── macOS DMG
│   ├── Linux AppImage
│   ├── Android APK
│   └── iOS 앱
│
├── M6.2 국제화
│   ├── 번역 시스템 (Qt Linguist)
│   ├── 다국어 지원
│   └── RTL 언어 지원
│
└── M6.3 문서화
    ├── 사용자 매뉴얼
    ├── 개발자 가이드
    └── API 문서
```

## 2.3 기술 스택 결정

| 영역 | 기술 | 선정 이유 |
|------|------|----------|
| 언어 | C++17 | 성능, Qt 호환성 |
| UI 프레임워크 | Qt 6.x + QML | 크로스 플랫폼, 선언적 UI |
| 빌드 | CMake 3.25+ | 표준, 크로스 플랫폼 |
| 프로토콜 | MAVLink 2.0 | 드론 통신 표준 |
| 지도 | Qt Location | Qt 통합, 다중 타일 소스 |
| 비디오 | GStreamer | 다양한 코덱 지원 |
| 테스트 | Google Test | C++ 표준 |

---

# Part 3: 실제 구현 기능 매핑

## 3.1 Foundation Layer 구현

### 3.1.1 애플리케이션 코어

| 계획 항목 | 구현 파일 | 설명 |
|----------|----------|------|
| Application Entry | `src/main.cc` | 애플리케이션 진입점, Qt 초기화 |
| Core Application | `src/QGCApplication.cc/h` | 앱 생명주기, 전역 초기화 |
| Toolbox (서비스 관리) | `src/QGCToolbox.cc/h` | 싱글톤 서비스 컨테이너 |
| Core Plugin | `src/QGCCorePlugin.cc/h` | 커스텀 빌드 확장 포인트 |

**QGCToolbox 관리 서비스:**
```cpp
// src/QGCToolbox.cc에서 관리하는 주요 서비스
- SettingsManager      // 설정 관리
- LinkManager          // 통신 링크 관리
- MultiVehicleManager  // 다중 비행체 관리
- MAVLinkProtocol      // MAVLink 프로토콜
- MissionCommandTree   // 미션 명령 정의
- VideoManager         // 비디오 관리
- QGCPositionManager   // 위치 관리
- JoystickManager      // 조이스틱 관리
- ADSBVehicleManager   // ADSB 비행체 관리
```

### 3.1.2 설정 시스템 (Settings)

| 계획 항목 | 구현 위치 | 설명 |
|----------|----------|------|
| Settings Manager | `src/Settings/SettingsManager.cc/h` | 설정 그룹 관리 |
| App Settings | `src/Settings/AppSettings.cc/h` | 앱 전역 설정 |
| FlyView Settings | `src/Settings/FlyViewSettings.cc/h` | 비행 뷰 설정 |
| Video Settings | `src/Settings/VideoSettings.cc/h` | 비디오 스트림 설정 |
| RTK Settings | `src/Settings/RTKSettings.cc/h` | RTK GPS 설정 |

**설정 스키마 파일:** `src/Settings/*.SettingsGroup.json`

### 3.1.3 Fact System 구현

| 컴포넌트 | 구현 파일 | 역할 |
|---------|----------|------|
| Fact | `src/FactSystem/Fact.cc/h` | 단일 값 표현 |
| FactMetaData | `src/FactSystem/FactMetaData.cc/h` | 메타데이터 (범위, 단위 등) |
| FactGroup | `src/FactSystem/FactGroup.cc/h` | Fact 그룹화 |
| FactControls | `src/FactSystem/FactControls/*.qml` | QML UI 바인딩 |

**Fact System 사용 예:**
```
Vehicle.altitudeAMSL → Fact → FactMetaData (단위: m, 정밀도: 1)
                        ↓
                    QML Binding
                        ↓
                  FactValueSlider.qml
```

## 3.2 Communication Layer 구현

### 3.2.1 MAVLink 프로토콜

| 계획 항목 | 구현 파일 | 설명 |
|----------|----------|------|
| Protocol Handler | `src/MAVLink/MAVLinkProtocol.cc/h` | MAVLink 메시지 처리 |
| Message Signing | `src/MAVLink/MAVLinkSigning.cc/h` | 메시지 서명/검증 |
| FTP Protocol | `src/MAVLink/MAVLinkFTP.cc/h` | 파일 전송 프로토콜 |
| Stream Config | `src/MAVLink/MAVLinkStreamConfig.cc/h` | 스트림 설정 |

**MAVLink 라이브러리:** `libs/mavlink/include/mavlink/v2.0/`

### 3.2.2 Link Management

| 링크 타입 | 구현 파일 | 프로토콜 |
|----------|----------|---------|
| Link Manager | `src/Comms/LinkManager.cc/h` | 전체 링크 관리 |
| Link Interface | `src/Comms/LinkInterface.cc/h` | 추상 인터페이스 |
| Serial Link | `src/Comms/SerialLink.cc/h` | USB/시리얼 포트 |
| UDP Link | `src/Comms/UDPLink.cc/h` | UDP 네트워크 |
| TCP Link | `src/Comms/TCPLink.cc/h` | TCP 네트워크 |
| Bluetooth Link | `src/Comms/BluetoothLink.cc/h` | 블루투스 |
| Mock Link | `src/Comms/MockLink/MockLink.cc/h` | 시뮬레이션용 |
| WebRTC | `src/Comms/WebRTC/` | WebRTC 실시간 통신 |
| AirLink | `src/Comms/AirLink/` | AirLink 프로토콜 |

**통신 흐름:**
```
[드론] ←→ [SerialLink/UDPLink] ←→ [MAVLinkProtocol] ←→ [Vehicle]
                                         ↓
                                   [MultiVehicleManager]
                                         ↓
                                      [UI/QML]
```

### 3.2.3 Vehicle 추상화

| 컴포넌트 | 구현 파일 | 역할 |
|---------|----------|------|
| Vehicle | `src/Vehicle/Vehicle.cc/h` | 비행체 추상화 (186KB) |
| MultiVehicleManager | `src/Vehicle/MultiVehicleManager.cc/h` | 다중 비행체 관리 |
| VehicleLinkManager | `src/Vehicle/VehicleLinkManager.cc/h` | 비행체별 링크 관리 |
| ParameterManager | `src/Vehicle/ParameterManager.cc/h` | 파라미터 로딩/저장 |
| Fact Groups | `src/Vehicle/FactGroups/` | 비행체 상태 그룹 |

**Vehicle FactGroups:**
```
src/Vehicle/FactGroups/
├── VehicleGPSFactGroup.cc/h          # GPS 상태
├── VehicleBatteryFactGroup.cc/h      # 배터리 상태
├── VehicleWindFactGroup.cc/h         # 바람 정보
├── VehicleVibrationFactGroup.cc/h    # 진동 데이터
├── VehicleTemperatureFactGroup.cc/h  # 온도 정보
├── VehicleClockFactGroup.cc/h        # 시계 동기화
├── VehicleSetpointFactGroup.cc/h     # 설정값
├── VehicleDistanceSensorFactGroup.cc/h # 거리 센서
├── VehicleLocalPositionFactGroup.cc/h  # 로컬 위치
├── VehicleLocalPositionSetpointFactGroup.cc/h
└── VehicleEstimatorStatusFactGroup.cc/h # 추정기 상태
```

## 3.3 User Interface 구현

### 3.3.1 메인 윈도우

| 컴포넌트 | 구현 파일 | 역할 |
|---------|----------|------|
| Main Window | `src/UI/MainWindow.qml` | 메인 레이아웃 |
| Toolbar | `src/UI/toolbar/*.qml` | 상단 툴바 |
| Preferences | `src/UI/preferences/*.qml` | 환경 설정 UI |

### 3.3.2 FlyView (비행 뷰)

| 기능 | 구현 파일 | 설명 |
|------|----------|------|
| FlyView Main | `src/FlyView/FlyView.qml` | 비행 뷰 메인 |
| Flight Map | `src/FlyView/FlyViewMap.qml` | 지도 표시 |
| Video Display | `src/FlyView/FlyViewVideo.qml` | 비디오 오버레이 |
| Widget Layer | `src/FlyView/FlyViewWidgetLayer.qml` | 위젯 레이어 |
| Right Panel | `src/FlyView/FlyViewRightPanel.qml` | 우측 정보 패널 |
| HUD | `src/FlightDisplay/` | 계기판/HUD |
| Guided Actions | `src/FlyView/GuidedActionsController.qml` | 조종 명령 |
| Multi Vehicle | `src/FlyView/MultiVehicleList.qml` | 다중 비행체 목록 |

**FlyView 구조:**
```
FlyView.qml
├── FlyViewMap.qml          # 배경 지도
├── FlyViewVideo.qml        # 비디오 PIP
├── FlyViewWidgetLayer.qml  # 오버레이 위젯
│   ├── Telemetry widgets
│   ├── Compass
│   └── Altitude indicator
├── FlyViewRightPanel.qml   # 우측 패널
│   ├── VehicleInfo
│   └── Actions
└── GuidedActionsController.qml
    ├── Takeoff/Land
    ├── RTL (Return to Launch)
    ├── Pause/Resume
    └── Change Altitude
```

### 3.3.3 PlanView (미션 계획)

| 기능 | 구현 파일 | 설명 |
|------|----------|------|
| Plan View | `src/QmlControls/PlanView.qml` | 미션 계획 메인 |
| Mission Controller | `src/MissionManager/MissionController.cc/h` | 미션 관리 (122KB) |
| Mission Manager | `src/MissionManager/MissionManager.cc/h` | 미션 업/다운로드 |
| Simple Item | `src/MissionManager/SimpleMissionItem.cc/h` | 단순 웨이포인트 |
| Complex Item | `src/MissionManager/ComplexMissionItem.cc/h` | 복잡한 미션 |
| Visual Items | `src/MissionManager/VisualMissionItem.cc/h` | 시각적 표현 |

**미션 아이템 타입:**
```
src/MissionManager/
├── SimpleMissionItem.cc/h         # 단순 웨이포인트
├── ComplexMissionItem.cc/h        # 복잡한 미션 기반 클래스
├── SurveyComplexItem.cc/h         # 영역 조사
├── CorridorScanComplexItem.cc/h   # 복도 스캔
├── StructureScanComplexItem.cc/h  # 건물 스캔
├── FixedWingLandingComplexItem.cc/h # 고정익 착륙
├── VTOLLandingComplexItem.cc/h    # VTOL 착륙
├── TakeoffMissionItem.cc/h        # 이륙
├── LandingComplexItem.cc/h        # 착륙
└── CircularSurveyComplexItem.cc/h # 원형 조사
```

**GeoFence & Rally Points:**
```
src/MissionManager/
├── GeoFenceController.cc/h        # 지오펜스 관리
├── GeoFenceManager.cc/h           # 지오펜스 업/다운로드
├── QGCFenceCircle.cc/h            # 원형 펜스
├── QGCFencePolygon.cc/h           # 다각형 펜스
├── RallyPointController.cc/h      # 랠리 포인트 관리
└── RallyPointManager.cc/h         # 랠리 포인트 업/다운로드
```

### 3.3.4 SetupView (비행체 설정)

| 컴포넌트 | 구현 위치 | 설명 |
|---------|----------|------|
| Setup View | `src/VehicleSetup/` | 설정 메인 뷰 |
| Firmware | `src/VehicleSetup/Firmware*.qml` | 펌웨어 업데이트 |
| Joystick | `src/VehicleSetup/JoystickConfig*.qml` | 조이스틱 설정 |

**AutoPilotPlugin 컴포넌트:**
```
src/AutoPilotPlugins/
├── Common/
│   ├── RadioComponentController.cc/h   # RC 캘리브레이션
│   ├── MotorComponent.qml              # 모터 테스트
│   └── ESP8266ComponentController.cc/h # WiFi 모듈
│
├── APM/ (ArduPilot)
│   ├── APMAutoPilotPlugin.cc/h
│   ├── APMAirframeComponent.cc/h       # 에어프레임
│   ├── APMSafetyComponent.cc/h         # 안전 설정
│   ├── APMSensorsComponent.cc/h        # 센서 캘리브
│   ├── APMFlightModesComponent.cc/h    # 비행 모드
│   ├── APMPowerComponent.cc/h          # 전원/배터리
│   ├── APMTuningComponent.cc/h         # 튜닝
│   ├── APMGimbalComponent.cc/h         # 짐벌
│   ├── APMLightsComponent.cc/h         # 조명
│   └── APMFollowComponent.qml          # 팔로우 미
│
└── PX4/
    ├── PX4AutoPilotPlugin.cc/h
    ├── AirframeComponent.cc/h          # 에어프레임
    ├── SensorsComponent.cc/h           # 센서 캘리브
    ├── FlightModesComponent.cc/h       # 비행 모드
    ├── PowerComponent.cc/h             # 전원/배터리
    ├── SafetyComponent.cc/h            # 안전 설정
    └── ActuatorComponent.cc/h          # 액추에이터
```

### 3.3.5 AnalyzeView (분석 도구)

| 기능 | 구현 파일 | 설명 |
|------|----------|------|
| Log Download | `src/AnalyzeView/LogDownloadController.cc/h` | 로그 다운로드 |
| GeoTag | `src/AnalyzeView/GeoTagController.cc/h` | 사진 Geo 태깅 |
| MAVLink Inspector | `src/AnalyzeView/MAVLinkInspectorController.cc/h` | 메시지 검사 |
| Log Parsers | `src/AnalyzeView/ULogParser.cc/h` | ULog 파싱 |
| MAVLink Console | `src/AnalyzeView/MAVLinkConsoleController.cc/h` | MAVLink 콘솔 |

## 3.4 Advanced Features 구현

### 3.4.1 비디오 시스템

| 컴포넌트 | 구현 파일 | 역할 |
|---------|----------|------|
| Video Manager | `src/VideoManager/VideoManager.cc/h` | 비디오 관리 |
| Video Receiver | `src/VideoManager/VideoReceiver/` | 비디오 수신 |
| SubtitleWriter | `src/VideoManager/SubtitleWriter.cc/h` | 자막 오버레이 |

### 3.4.2 특수 기능

| 기능 | 구현 위치 | 설명 |
|------|----------|------|
| Gimbal Control | `src/Gimbal/` | 짐벌 제어 |
| Camera Control | `src/Camera/` | 카메라 제어 |
| ADSB | `src/ADSB/` | 항공기 감지 |
| Follow Me | `src/FollowMe/` | 팔로우 미 모드 |
| GPS | `src/GPS/` | GPS 관리 |
| Joystick | `src/Joystick/` | 조이스틱 입력 |

**Gimbal 구현:**
```
src/Gimbal/
├── Gimbal.cc/h                    # 짐벌 추상화
├── GimbalController.cc/h          # 짐벌 제어 로직
└── GimbalControllerSettings.cc/h  # 짐벌 설정
```

**Camera 구현:**
```
src/Camera/
├── QGCCameraManager.cc/h          # 카메라 관리
├── VehicleCameraControl.cc/h      # MAVLink 카메라 제어
├── CameraMetaData.cc/h            # 카메라 메타데이터
├── MavlinkCameraControl.cc/h      # MAVLink 프로토콜
└── SimulatedCameraControl.cc/h    # 시뮬레이션용
```

### 3.4.3 지형 처리

| 컴포넌트 | 구현 파일 | 역할 |
|---------|----------|------|
| Terrain Query | `src/Terrain/TerrainQuery.cc/h` | 지형 조회 인터페이스 |
| Terrain Tile | `src/Terrain/TerrainTile.cc/h` | 지형 타일 관리 |
| Providers | `src/Terrain/Providers/` | 지형 데이터 공급자 |

### 3.4.4 위치 및 지도

```
src/QtLocationPlugin/
├── QGCMapEngine.cc/h              # 지도 엔진
├── QGCMapUrlEngine.cc/h           # 타일 URL 관리
├── QGCTileCacheWorker.cc/h        # 타일 캐싱
├── ElevationMapProvider.cc/h      # 고도 데이터
└── GenericMapProvider.cc/h        # 범용 지도 공급자

src/FlightMap/
├── FlightMap.qml                  # 비행 지도
├── MapScale.qml                   # 축척 표시
└── Widgets/                       # 지도 위젯
```

## 3.5 Firmware Plugin 구현

### 3.5.1 Plugin 아키텍처

```
src/FirmwarePlugin/
├── FirmwarePlugin.cc/h            # 기본 인터페이스 (추상)
├── FirmwarePluginManager.cc/h     # 플러그인 관리
├── FirmwarePluginFactory.cc/h     # 팩토리 패턴
│
├── APM/                           # ArduPilot 구현
│   ├── APMFirmwarePlugin.cc/h     # APM 기본 플러그인
│   ├── ArduCopterFirmwarePlugin.cc/h  # 쿼드콥터
│   ├── ArduPlaneFirmwarePlugin.cc/h   # 고정익
│   ├── ArduRoverFirmwarePlugin.cc/h   # 로버
│   ├── ArduSubFirmwarePlugin.cc/h     # 수중 드론
│   └── APMParameterMetaData.cc/h      # 파라미터 메타
│
└── PX4/                           # PX4 구현
    ├── PX4FirmwarePlugin.cc/h     # PX4 기본 플러그인
    └── PX4ParameterMetaData.cc/h  # 파라미터 메타
```

### 3.5.2 AutoPilot Plugin

| 펌웨어 | 플러그인 클래스 | 설정 컴포넌트 |
|-------|---------------|--------------|
| PX4 | `PX4AutoPilotPlugin` | Airframe, Sensors, FlightModes, Power, Safety, Actuator |
| APM Copter | `APMCopterPlugin` | Airframe, Sensors, FlightModes, Power, Safety, Tuning |
| APM Plane | `APMPlanePlugin` | Airframe, Sensors, FlightModes, Power, Safety |
| APM Rover | `APMRoverPlugin` | Airframe, Sensors, FlightModes, Power, Safety |
| APM Sub | `APMSubPlugin` | Airframe, Sensors, FlightModes, Motors, Lights |

## 3.6 Platform & Build 구현

### 3.6.1 빌드 시스템

```
cmake/
├── BuildConfig.cmake              # 빌드 설정
├── CustomOptions.cmake            # 커스텀 옵션
├── Helpers.cmake                  # 헬퍼 함수
├── Toolchain.cmake                # 컴파일러 설정
├── CPM.cmake                      # 패키지 매니저
│
├── platform/                      # 플랫폼별
│   ├── Windows.cmake
│   ├── Apple.cmake
│   ├── Linux.cmake
│   └── Android.cmake
│
└── install/                       # 설치/패키징
    └── CPack/
```

### 3.6.2 플랫폼별 코드

| 플랫폼 | 위치 | 특수 기능 |
|-------|------|----------|
| Android | `src/Android/` | Joystick, 권한 관리 |
| iOS | CMake iOS 설정 | 앱 번들 |
| Windows | `cmake/platform/Windows.cmake` | MSVC 설정 |
| macOS | `cmake/platform/Apple.cmake` | Universal Binary |
| Linux | `cmake/platform/Linux.cmake` | AppImage |

### 3.6.3 국제화

```
translations/
├── qgc_source_en.ts               # 소스 언어 (영어)
├── qgc_ko.ts                      # 한국어
├── qgc_zh_CN.ts                   # 중국어 간체
├── qgc_ja.ts                      # 일본어
└── ... (20+ 언어)

docs/
├── en/                            # 영어 문서
├── ko/                            # 한국어 문서
└── zh/                            # 중국어 문서
```

## 3.7 테스트 구현

### 3.7.1 단위 테스트 구조

```
test/
├── CMakeLists.txt
├── ADSB/ADSBTest.cc
├── Comms/CommTest.cc
├── FactSystem/FactSystemTest.cc
├── FollowMe/FollowMeTest.cc
├── GPS/GPSTest.cc
├── MAVLink/MAVLinkTest.cc
├── MissionManager/MissionManagerTest.cc
├── Terrain/TerrainTest.cc
├── Utilities/UtilitiesTest.cc
├── Vehicle/VehicleTest.cc
├── qgcunittest/                   # 공통 테스트 유틸
└── UnitTestList.cc/h              # 테스트 목록
```

### 3.7.2 시뮬레이션 (MockLink)

```
src/Comms/MockLink/
├── MockLink.cc/h                  # 가상 링크
├── MockLinkMissionItemHandler.cc/h # 미션 시뮬레이션
├── MockLinkFTP.cc/h               # FTP 시뮬레이션
└── MockVehicle.params             # 테스트 파라미터
```

---

## 부록 A: 디렉토리 구조 요약

```
qgroundcontrol/
├── src/                           # 소스 코드
│   ├── ADSB/                      # ADS-B 수신기
│   ├── AnalyzeView/               # 분석 도구
│   ├── API/                       # API 인터페이스
│   ├── AutoPilotPlugins/          # 자동조종 플러그인
│   │   ├── APM/                   # ArduPilot
│   │   ├── PX4/                   # PX4
│   │   └── Common/                # 공통
│   ├── Camera/                    # 카메라 제어
│   ├── Comms/                     # 통신 계층
│   │   ├── MockLink/              # 시뮬레이션
│   │   └── WebRTC/                # WebRTC
│   ├── FactSystem/                # Fact 시스템
│   ├── FirmwarePlugin/            # 펌웨어 플러그인
│   │   ├── APM/
│   │   └── PX4/
│   ├── FlightDisplay/             # HUD/계기판
│   ├── FlightMap/                 # 비행 지도
│   ├── FlyView/                   # 비행 뷰
│   ├── FollowMe/                  # 팔로우 미
│   ├── Gimbal/                    # 짐벌 제어
│   ├── GPS/                       # GPS 관리
│   ├── Joystick/                  # 조이스틱
│   ├── MAVLink/                   # MAVLink 프로토콜
│   ├── MissionManager/            # 미션 관리
│   ├── QmlControls/               # QML 컨트롤
│   ├── QtLocationPlugin/          # 지도 플러그인
│   ├── Settings/                  # 설정
│   ├── Terrain/                   # 지형 데이터
│   ├── UI/                        # 메인 UI
│   ├── Utilities/                 # 유틸리티
│   ├── Vehicle/                   # 비행체 추상화
│   ├── VideoManager/              # 비디오 관리
│   └── Viewer3D/                  # 3D 뷰어
├── test/                          # 테스트
├── libs/                          # 외부 라이브러리
├── cmake/                         # CMake 설정
├── resources/                     # 리소스
├── translations/                  # 번역
└── docs/                          # 문서
```

---

## 부록 B: 핵심 클래스 관계도

```
                        ┌──────────────────┐
                        │  QGCApplication  │
                        └────────┬─────────┘
                                 │
                        ┌────────▼─────────┐
                        │    QGCToolbox    │
                        └────────┬─────────┘
                                 │
        ┌────────────────────────┼────────────────────────┐
        │                        │                        │
┌───────▼───────┐      ┌────────▼────────┐      ┌───────▼───────┐
│  LinkManager  │      │MultiVehicleManager│     │SettingsManager│
└───────┬───────┘      └────────┬────────┘      └───────────────┘
        │                       │
        │              ┌────────▼────────┐
        │              │    Vehicle      │
        │              └────────┬────────┘
        │                       │
        │         ┌─────────────┼─────────────┐
        │         │             │             │
        │  ┌──────▼──────┐ ┌────▼────┐ ┌─────▼─────┐
        │  │FirmwarePlugin│ │FactGroups│ │Components │
        │  └─────────────┘ └─────────┘ └───────────┘
        │
┌───────▼───────┐
│ MAVLinkProtocol│
└───────┬───────┘
        │
┌───────▼───────┐
│  LinkInterface │ (Serial, UDP, TCP, Bluetooth, WebRTC)
└───────────────┘
```

---

## 부록 C: 개발 참고 자료

### 공식 문서
- 사용자 매뉴얼: https://docs.qgroundcontrol.com/en/
- 개발자 가이드: https://dev.qgroundcontrol.com/en/
- MAVLink 프로토콜: https://mavlink.io/

### 빌드 명령
```bash
# 의존성 설치 후
mkdir build && cd build
cmake ..
cmake --build . --config Release
```

### 커스텀 빌드
`custom/` 디렉토리에 커스텀 설정을 추가하여 브랜딩, 기능 제한, 펌웨어 특화 빌드 가능

---

*이 문서는 QGroundControl 프로젝트 구조를 기반으로 작성된 가상의 개발 계획서입니다.*
*실제 개발 이력과 다를 수 있습니다.*

**문서 버전:** 1.0
**최종 수정일:** 2026-01-26
